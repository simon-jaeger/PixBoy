-- phpMyAdmin SQL Dump
-- version 4.9.0.1
-- https://www.phpmyadmin.net/
--
-- Host: 127.0.0.1
-- Generation Time: Dec 04, 2019 at 12:13 PM
-- Server version: 10.4.6-MariaDB
-- PHP Version: 7.3.8

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
SET AUTOCOMMIT = 0;
START TRANSACTION;
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;

--
-- Database: `pixboy`
--

-- --------------------------------------------------------

--
-- Table structure for table `drawing`
--

CREATE TABLE `drawing` (
  `id` int(11) NOT NULL,
  `title` varchar(32) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'Untitled',
  `description` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '',
  `lastUpdate` datetime NOT NULL DEFAULT current_timestamp(),
  `shadesArray` varchar(256) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000',
  `base64` varchar(1024) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAgMAAABinRfyAAAADFBMVEXE8MJauagxfIwfHx/K4MEHAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAADElEQVQImWNgoC4AAABQAAGmLdqcAAAAAElFTkSuQmCC',
  `userId` int(11) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

--
-- Dumping data for table `drawing`
--

INSERT INTO `drawing` (`id`, `title`, `description`, `lastUpdate`, `shadesArray`, `base64`, `userId`) VALUES
(1, 'Green', 'Just a green square.', '2019-11-30 14:49:57', '2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222', 'iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAgMAAABinRfyAAAADFBMVEXE8MJauagxfIwfHx/K4MEHAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAADklEQVQImWNYBQQM1CMApKoqgWPU4PgAAAAASUVORK5CYII=', 3),
(2, 'Black', 'Just a black square.', '2019-11-15 18:08:20', '3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333', 'iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAgMAAABinRfyAAAADFBMVEXE8MJauagxfIwfHx/K4MEHAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAADklEQVQImWP4DwQM1CMA9tc/wfnPUdcAAAAASUVORK5CYII=', 3),
(3, 'One', 'First ipsum dolor sit amet, consectetur adipiscing elit.', '2019-10-01 11:20:49', '3333333333333333300000000000000330000000000000033000000030000003300000033000000330000033300000033000000030000003300000003000000330000000300000033000000030000003300000003000000330000000300000033000000030000003300000000000000330000000000000033333333333333333', 'iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAgMAAABinRfyAAAADFBMVEXE8MJauagxfIwfHx/K4MEHAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAIUlEQVQImWP4DwQMBxgYmGHEASDBDCL4D8C4BAiYXpBRACVmGjXPAIeDAAAAAElFTkSuQmCC', 3),
(4, 'Two', 'Second ipsum dolor sit amet, consectetur adipiscing elit.', '2019-10-02 11:20:49', '3333333333333333300000000000000330000000000000033000003333000003300003000030000330000000003000033000000000300003300000000330000330000000300000033000000300000003300000300000000330000300000000033000033333300003300000000000000330000000000000033333333333333333', 'iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAgMAAABinRfyAAAADFBMVEXE8MJauagxfIwfHx/K4MEHAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAMElEQVQImWP4DwQMBxgYmKEE/wcgYcAD4iIIGxBxgBmEgAQPiDAAEfZ/mJH0gowCAIoUFmwWovWBAAAAAElFTkSuQmCC', 3),
(5, 'Three', 'Third ipsum dolor sit amet, consectetur adipiscing elit.', '2019-10-03 11:20:49', '3333333333333333300000000000000330000000000000033000003333000003300003000030000330000000003000033000000000300003300000000330000330000000330000033000000003300003300000000030000330000000003000033000030000300003300000333300000330000000000000033333333333333333', 'iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAgMAAABinRfyAAAADFBMVEXE8MJauagxfIwfHx/K4MEHAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAK0lEQVQImWP4DwQMBxgYmKEE/wcgYcAD4iIIGxDxAc6CS4DVgXWA9IKMAgCP0haxXITrwAAAAABJRU5ErkJggg==', 3),
(10, 'Cute little dino character', 'Based on \"Dino Characters\" (arks.itch.io/dino-characters) by Arks (twitter.com/ScissorMarks) licensed under CC BY 4.0 (creativecommons.org/licenses/by/4.0).', '2019-11-30 16:39:41', '0033333333333330033221111111111332322111111222133232030111311133333203011111111303230001111111130323211111111113033322111113333300033211111130000000321100003000003332110000300000322211000030000033221110013000000332111111300000003213333230000000333000033000', 'iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAgMAAABinRfyAAAADFBMVEXE8MJauagxfIwfHx/K4MEHAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAASklEQVQImWPg////D4Pd1NBwhndTw5YzvDOMjWf4ZwjkWjOCCJCE/dLw/wzMT0MPMDA8ZTjAwA8i+JaCWEsdD0Alnv8DEn+YDwAAy+UePBCPg9EAAAAASUVORK5CYII=', 2),
(11, 'Necromancer', 'Based on the tileset \"16x16DungeonTileset\" by 0x72. (0x72.itch.io/16x16-dungeon-tileset)', '2019-11-30 16:37:54', '0033333333333300003222222222230000322222222223000031111111222300003133333122230000313333312223000031333331222300003132323122230000313333312223000031133311222300003321312222230000032212222223000003221222222330003322212222223000311111111111300033333333333330', 'iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAgMAAABinRfyAAAADFBMVEXE8MJauagxfIwfHx/K4MEHAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAOUlEQVQImWPg////AwPfqlUbIARvaBSQ+H8LhXgHZ9UDZfnnAtUxL4MQexj4V65aA9QWGsMANOoPAJyvI0MMyMXbAAAAAElFTkSuQmCC', 2),
(12, 'Zombie', 'Based on the tileset \"16x16DungeonTileset\" by 0x72. (0x72.itch.io/16x16-dungeon-tileset)', '2019-11-30 15:53:48', '0000000000000000000333333333300000032111111130000003211111113000000321111111300000032133111330000003213311133000000321221112300000032111111130000003211111113000000333333333300000033222222230000003322222223000000332222222300000033333333230000003330000333000', 'iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAgMAAABinRfyAAAADFBMVEXE8MJauagxfIwfHx/K4MEHAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAKklEQVQImWNgAAHm//8PMDBPDUUh5ofDiFlhKBJgxa9WoRD//wGJD/wHAD0KHpCLqApsAAAAAElFTkSuQmCC', 2),
(13, 'Bat monster', 'Based on the tileset \"16x16DungeonTileset\" by 0x72. (0x72.itch.io/16x16-dungeon-tileset)', '2019-11-30 16:37:30', '0000000000000000000000000000000000000000000000000000000000000000330333333333033332332222222332233223022200232223322302220023222332222222222222233223201102233223323031111230032333003333333000333000000000000003000000000000000000000000000000000000000000000000', 'iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAgMAAABinRfyAAAADFBMVEXE8MJauagxfIwfHx/K4MEHAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAANklEQVQImWNgwAI+//9vz/B+1erXDK+1uFdDiFerVgFZrdqvGd5czbFm+PD/Dz/DAQYGZjStAFgPFYqFX8UOAAAAAElFTkSuQmCC', 2),
(14, 'Wizard', 'Based on the tileset \"16x16DungeonTileset\" by 0x72. (0x72.itch.io/16x16-dungeon-tileset)', '2019-11-30 16:37:57', '0033333333000000032222222230000032322222222330003003222222222300003333333333333003300100111003000030013311133000003001331113300000300011111113000030000000000030000322000000030000032220000030000003222000003000000322220002300000032333202230000003330333333000', 'iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAgMAAABinRfyAAAADFBMVEXE8MJauagxfIwfHx/K4MEHAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAATElEQVQImWPg//+BgcFq1RoGhnerVh9gOLxq1QYG/v///zDYCIQYMPDIhx+AEqyhBQw8DEDEvIDBgIF5BcMBKLGKCUjs7wISn/8fAABhLxp9Z1F1UgAAAABJRU5ErkJggg==', 2),
(15, 'Knight', 'Based on the tileset \"16x16DungeonTileset\" by 0x72. (0x72.itch.io/16x16-dungeon-tileset)', '2019-11-30 16:08:03', '0000000000000000000333333333300000031111111130000003112222223330000311211111113000031121313131300003112131313130000311213131313000031121111111300003112222223330000311111111300000032222222230000003111111113000000311111111300000032333333230000003330000333000', 'iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAgMAAABinRfyAAAADFBMVEXE8MJauagxfIwfHx/K4MEHAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAANklEQVQImWNgAAHm//8PMDCHhgKJqFV/GJgjQ2OAxN07KARIDCwLVrdqFUwHmNj/D0h84D8AAPrGGy5V1GGGAAAAAElFTkSuQmCC', 2),
(16, 'Villager', 'Based on the tileset \"16x16DungeonTileset\" by 0x72. (0x72.itch.io/16x16-dungeon-tileset)', '2019-11-30 16:13:15', '0003333333300000003222222223300003222222222223000322200002233230033200000003030030300000000300000300033000330000030003300033000000300000000300000030000000030000003333333333000000322222222300000032222222230000003222222223000000323333332300000033300003330000', 'iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAgMAAABinRfyAAAADFBMVEXE8MJauagxfIwfHx/K4MEHAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAP0lEQVQImWNg/v+HgYFv1eoDDFarVm1gsGrQfsNgx8BswHCGgZmBwcCGH0rwgLhggv//f7AOFOL/b6DEAXsGAEU3E9HqsytUAAAAAElFTkSuQmCC', 2),
(17, 'Sword', 'Based on the tileset \"16x16DungeonTileset\" by 0x72. (0x72.itch.io/16x16-dungeon-tileset)', '2019-11-30 16:19:55', '0000000000000000000000000000000000000033000000000000003130000000000000312300000000000031230000000000003123000000000000312300000000000031230000000000003123000000000000312300000000000333333000000000032222300000000003333330000000000031130000000000003333000000', 'iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAgMAAABinRfyAAAADFBMVEXE8MJauagxfIwfHx/K4MEHAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAIklEQVQImWNgQAB+EMF7AERsIEjY/wESVmtgLN4CkAEfGABO0ArgyMOzNAAAAABJRU5ErkJggg==', 2),
(18, 'Assassin', 'Based on the tileset \"16x16DungeonTileset\" by 0x72. (0x72.itch.io/16x16-dungeon-tileset)', '2019-11-30 16:27:58', '0000000000000000000333333333300000031111111230000033333333123000003000000312300000330033033333000033003303222300003000000333330000303303331230000033333311123000000322222222300000033333333330000003333333333000000333333333300000033333333330000003330000333000', 'iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAgMAAABinRfyAAAADFBMVEXE8MJauagxfIwfHx/K4MEHAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAPUlEQVQImWNgAAHm//8PMDCHhh1g4P//7QADD4MZkMVv/wFIWG0AcoEsns/fQLJAJcyrVh2A6kAjPvAfAAA2/x88TA6ciQAAAABJRU5ErkJggg==', 2),
(19, 'Skeleton monster', 'Based on the tileset \"16x16DungeonTileset\" by 0x72. (0x72.itch.io/16x16-dungeon-tileset)', '2019-11-30 16:37:39', '0000000000000000000033333333330000003000000013000000300000001300000033000330130000003300033013000000310301101300000030000000130000003000000013000000333311333300000000030030000000000033003300000000033000033000000003033330300000000333003330000000000000000000', 'iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAgMAAABinRfyAAAADFBMVEXE8MJauagxfIwfHx/K4MEHAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAOElEQVQImWNgAIP//z8wMBxgKIASH2xgxGWRAmSJ//FAdcw8QB38/EDChvkAA4PxHyBhz38AbBAAN4EStURafksAAAAASUVORK5CYII=', 2);

-- --------------------------------------------------------

--
-- Table structure for table `failed_login_attempt`
--

CREATE TABLE `failed_login_attempt` (
  `ip` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `timestamp` timestamp NOT NULL DEFAULT current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `password_reset_token`
--

CREATE TABLE `password_reset_token` (
  `token` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `timestamp` datetime NOT NULL DEFAULT current_timestamp(),
  `userId` int(11) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `user`
--

CREATE TABLE `user` (
  `id` int(11) NOT NULL,
  `email` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `username` varchar(32) COLLATE utf8mb4_unicode_ci NOT NULL,
  `passwordHash` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `legalNoticeAccepted` datetime NOT NULL DEFAULT current_timestamp(),
  `lastLogin` datetime NOT NULL DEFAULT current_timestamp(),
  `isAdmin` tinyint(1) NOT NULL DEFAULT 0
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

--
-- Dumping data for table `user`
--

INSERT INTO `user` (`id`, `email`, `username`, `passwordHash`, `legalNoticeAccepted`, `lastLogin`, `isAdmin`) VALUES
(1, 'pixboy.admin@mailinator.com', 'admin', '', '2019-11-01 00:00:00', '2019-11-30 16:51:35', 1),
(2, 'pixboy.rachel@mailinator.com', 'rachel-gardner', '', '2019-11-02 00:00:00', '2019-11-30 16:39:26', 0),
(3, 'pixboy.isaac@mailinator.com', 'isaac-foster', '', '2019-11-03 00:00:00', '2019-11-30 14:49:12', 0),
(4, 'pixboy.catherine@mailinator.com', 'catherine-ward', '', '2019-11-04 00:00:00', '2019-11-04 00:00:00', 0);

--
-- Indexes for dumped tables
--

--
-- Indexes for table `drawing`
--
ALTER TABLE `drawing`
  ADD PRIMARY KEY (`id`),
  ADD KEY `userId` (`userId`);

--
-- Indexes for table `password_reset_token`
--
ALTER TABLE `password_reset_token`
  ADD PRIMARY KEY (`token`),
  ADD KEY `userId` (`userId`);

--
-- Indexes for table `user`
--
ALTER TABLE `user`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `email` (`email`),
  ADD UNIQUE KEY `username` (`username`);

--
-- AUTO_INCREMENT for dumped tables
--

--
-- AUTO_INCREMENT for table `drawing`
--
ALTER TABLE `drawing`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=20;

--
-- AUTO_INCREMENT for table `user`
--
ALTER TABLE `user`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=5;

--
-- Constraints for dumped tables
--

--
-- Constraints for table `drawing`
--
ALTER TABLE `drawing`
  ADD CONSTRAINT `drawing_ibfk_1` FOREIGN KEY (`userId`) REFERENCES `user` (`id`);

--
-- Constraints for table `password_reset_token`
--
ALTER TABLE `password_reset_token`
  ADD CONSTRAINT `password_reset_token_ibfk_1` FOREIGN KEY (`userId`) REFERENCES `user` (`id`);
COMMIT;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
